{"version":3,"sources":["../../src/pages/pick-adress/pick-adress.module.ts","../../src/pages/pick-adress/pick-adress.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACD;AAU/C;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QARhC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAc;aACf;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;aACzC;SACF,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZS;AACe;AAEc;AACP;AAEC;AAEjE;;;;;GAKG;AAOH;IAGE,wBAAmB,OAAsB,EAC/B,SAAoB,EACpB,OAAuB,EACvB,cAA8B,EAC9B,WAAwB;QAJf,YAAO,GAAP,OAAO,CAAe;QAC/B,cAAS,GAAT,SAAS,CAAW;QACpB,YAAO,GAAP,OAAO,CAAgB;QACvB,mBAAc,GAAd,cAAc,CAAgB;QAC9B,gBAAW,GAAX,WAAW,CAAa;IAClC,CAAC;IAED,uCAAc,GAAd;QAAA,iBAsBC;QArBC,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;QAC5C,EAAE,EAAC,SAAS,IAAI,SAAS,CAAC,KAAK,CAAC,EAAC;YAC/B,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,SAAS,CAAC,KAAK,CAAC;iBAC7C,SAAS,CAAC,kBAAQ;gBACjB,KAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,WAAW,CAAC,CAAC;gBACnC,IAAI,IAAI,GAAG,KAAI,CAAC,WAAW,CAAC,OAAO,EAAE,CAAC;gBACtC,KAAI,CAAC,MAAM,GAAG;oBACZ,OAAO,EAAE,EAAC,EAAE,EAAC,QAAQ,CAAC,IAAI,CAAC,EAAC;oBAC5B,iBAAiB,EAAC,IAAI;oBACtB,SAAS,EAAC,IAAI;oBACd,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAC,IAAK,MAAM,GAAC,UAAU,EAAE,CAAC,CAAC,UAAU,EAAE,OAAO,EAAC,EAAC,EAAE,EAAC,CAAC,CAAC,OAAO,CAAC,EAAE,EAAC,EAAC,GAAC,CAAC;iBAC1F;YACH,CAAC,EACD,eAAK;gBACH,EAAE,EAAC,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,EAAC;oBACtB,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;gBACnC,CAAC;YACH,CAAC,CAAC;QACN,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QACnC,CAAC;IACH,CAAC;IACD,iCAAQ,GAAR,UAAS,IAAgB;QACvB,IAAI,CAAC,MAAM,CAAC,iBAAiB,GAAG,IAAI,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,EAAE,EAAC,MAAM,EAAC,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;IACzD,CAAC;IApCU,cAAc;QAJ1B,gEAAS,CAAC;YACT,QAAQ,EAAE,kBAAkB;WACG;SAChC,CAAC;6EAIyC;YACpB,iFAAS;YACX,wFAAc;YACP,oFAAc;YACjB,WAAW;OAPvB,cAAc,CAsC1B;IAAD,CAAC;AAAA;SAtCY,cAAc,gB","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PickAdressPage } from './pick-adress';\n\n@NgModule({\n  declarations: [\n    PickAdressPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PickAdressPage),\n  ],\n})\nexport class PickAdressPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pick-adress/pick-adress.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { EnderecoDTO } from '../../models/endereco.dto';\nimport { ClienteService } from '../../services/domain/cliente.service';\nimport { StorageService } from '../../services/storage.service';\nimport { PedidoDTO } from '../../models/pedido.dto';\nimport { CartService } from '../../services/domain/cart.service';\n\n/**\n * Generated class for the PickAdressPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-pick-adress',\n  templateUrl: 'pick-adress.html',\n})\nexport class PickAdressPage {\n  items: EnderecoDTO[];\n  pedido: PedidoDTO;\n  constructor(public navCtrl: NavController,\n     public navParams: NavParams,\n     public storage: StorageService,\n     public clienteService: ClienteService,\n     public cartService: CartService) {\n  }\n\n  ionViewDidLoad() {\n    let localUser = this.storage.getLocalUser();\n    if(localUser && localUser.email){\n      this.clienteService.findByEmail(localUser.email)\n        .subscribe(response => {\n          this.items = response[\"enderecos\"];\n          let cart = this.cartService.getCart();\n          this.pedido = {\n            cliente: {id:response[\"id\"]},\n            enderecoDeEntrega:null,\n            pagamento:null,\n            itens: cart.items.map(x => {return{quantidade: x.quantidade, produto:{id:x.produto.id}}})\n          }\n        },\n        error => {\n          if(error.status == 403){\n            this.navCtrl.setRoot(\"HomePage\");\n          }\n        })\n    }else{\n      this.navCtrl.setRoot(\"HomePage\");\n    }\n  }\n  nextPage(item:EnderecoDTO){\n    this.pedido.enderecoDeEntrega = item;\n    this.navCtrl.push(\"PaymentPage\", {pedido:this.pedido});\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pick-adress/pick-adress.ts"],"sourceRoot":""}